"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[668],{3034:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var s=r(4848),i=r(8453);const t={sidebar_position:1},l="Query",a={id:"APIs/query",title:"Query",description:"Fastschema use RQL (Resource Query Language) to query the data. RQL is a query language that allows you to query the data in a flexible way. You can filter, sort, paginate, include, select, and more.",source:"@site/docs/APIs/query.md",sourceDirName:"APIs",slug:"/APIs/query",permalink:"/docs/APIs/query",draft:!1,unlisted:!1,editUrl:"https://github.com/fastschema/website/tree/main/docs/APIs/query.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"APIs",permalink:"/docs/category/apis"},next:{title:"Count",permalink:"/docs/APIs/count"}},o={},c=[{value:"Pagination",id:"pagination",level:2},{value:"Select",id:"select",level:2},{value:"Example",id:"example",level:4},{value:"Sort",id:"sort",level:2},{value:"Example",id:"example-1",level:4},{value:"Filter",id:"filter",level:2},{value:"Query with no filter",id:"query-with-no-filter",level:3},{value:"Example",id:"example-2",level:4},{value:"Query with column filter",id:"query-with-column-filter",level:3},{value:"Operators Supported:",id:"operators-supported",level:4},{value:"Example of query object",id:"example-of-query-object",level:4},{value:"Query with relations Filter",id:"query-with-relations-filter",level:3},{value:"Example",id:"example-3",level:4}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"query",children:"Query"}),"\n",(0,s.jsx)(n.p,{children:"Fastschema use RQL (Resource Query Language) to query the data. RQL is a query language that allows you to query the data in a flexible way. You can filter, sort, paginate, include, select, and more."}),"\n",(0,s.jsx)(n.h2,{id:"pagination",children:"Pagination"}),"\n",(0,s.jsx)(n.p,{children:"Pagination allows users to retrieve resources in smaller, manageable chunks, reducing the response payload size and improving performance. It provides control over the number of resources returned in a single response, making it easier to navigate through large datasets."}),"\n",(0,s.jsx)(n.p,{children:"Pagination supports the following query parameters:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"page"}),": The page number to retrieve."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"limit"}),": The number of resources to return per page."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"select",children:"Select"}),"\n",(0,s.jsx)(n.p,{children:"This feature allows users to specify which fields they want to include in the response when fetching resources. It provides flexibility in tailoring the response payload to include only the necessary fields, reducing unnecessary data transfer."}),"\n",(0,s.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,s.jsx)(n.p,{children:"To select specific fields for users, such as id, name, and categories.name, the following RQL query can be used:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET /api/posts/?select=id,name,categories.name\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Response"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "data": [\n    {\n      "id": 1,\n      "name": "Post 01",\n      "categories": [\n        {\n          "name": "Category A"\n        },\n        {\n          "name": "Category B"\n        }\n      ]\n    },\n    {\n      "id": 2,\n      "name": "Post 02",\n      "categories": [\n        {\n          "name": "Category C"\n        }\n      ]\n    }\n  ]\n}\n\n'})}),"\n",(0,s.jsx)(n.h2,{id:"sort",children:"Sort"}),"\n",(0,s.jsx)(n.p,{children:"Sorting allows users to specify the order in which resources should be returned based on the values of a particular field. This feature provides control over the presentation of data and enhances usability by arranging resources in a meaningful order."}),"\n",(0,s.jsx)(n.h4,{id:"example-1",children:"Example"}),"\n",(0,s.jsx)(n.p,{children:"To sort users based on their age in ascending or descending order, the following RQL queries can be used:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ascending order:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET /api/users/?sort=age\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Descending order:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET /api/users/?sort=-age\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"filter",children:"Filter"}),"\n",(0,s.jsx)(n.h3,{id:"query-with-no-filter",children:"Query with no filter"}),"\n",(0,s.jsx)(n.p,{children:"This query type allows users to retrieve resources without applying any filters."}),"\n",(0,s.jsx)(n.h4,{id:"example-2",children:"Example"}),"\n",(0,s.jsx)(n.p,{children:"To retrieve all users without applying any filters, the following RQL query can be used:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET /api/users/\n"})}),"\n",(0,s.jsx)(n.h3,{id:"query-with-column-filter",children:"Query with column filter"}),"\n",(0,s.jsx)(n.p,{children:"This query type allows users to retrieve resources while applying filters based on specified conditions using various operators."}),"\n",(0,s.jsx)(n.h4,{id:"operators-supported",children:"Operators Supported:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$eq"}),": Equal to"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$neq"}),": Not equal to"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$gt"}),": Greater than"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$gte"}),": Greater than or equal to"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$lt"}),": Less than"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$lte"}),": Less than or equal to"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$like"}),": String matching with wildcard support"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$in"}),": In array"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$nin"}),": Not in array"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$null"}),": Null value check"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$and"}),": Logical AND operation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"$or"}),": Logical OR operation"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"example-of-query-object",children:"Example of query object"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "name": {\n        "$like": "test%",\n        "$neq": "test2"\n    },\n    "$or": [\n        {\n            "email": {\n                "$neq": "test",\n                "$like": "test%"\n            },\n            "age": {\n                "$lt": 10\n            }\n        },\n        {\n            "age": 5\n        },\n        {\n            "$and": [\n                {\n                    "name": {\n                        "$neq": "test2"\n                    }\n                },\n                {\n                    "age": 5\n                }\n            ]\n        }\n    ]\n}\n\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"query-with-relations-filter",children:"Query with relations Filter"}),"\n",(0,s.jsx)(n.p,{children:"This query type allows users to retrieve resources based on filtering criteria that involve related entities or fields."}),"\n",(0,s.jsx)(n.h4,{id:"example-3",children:"Example"}),"\n",(0,s.jsx)(n.p,{children:"To retrieve resources based on filtering criteria involving related entities, such as categories, the following RQL query can be used:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'GET /api/posts/?filter={"name":{"$like":"%post01%"},"categories.name":{"$like":"%category01%"}}\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{\n    "name": {\n        "$like": "%post01%"\n    },\n    "categories.name": {\n        "$like": "%category01%"\n    }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>a});var s=r(6540);const i={},t=s.createContext(i);function l(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);